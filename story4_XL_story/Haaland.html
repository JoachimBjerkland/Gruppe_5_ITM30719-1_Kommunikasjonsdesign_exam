<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haaland og hans reise til toppen - XL story</title>
    <link href="Haaland.css" rel="stylesheet" media="all">
    
    <!-- Add Chart.js library for creating graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Add Leaflet CSS and JavaScript -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
</head>
<body>
    <header>
        <div>
            <h1>Haaland og hans reise til toppen - informasjon/tekst, graf med info, Kart and tidslinje</h1>
            <a>Har vi sett det siste av Erling Braut Haaland</a>
        </div>
    </header>
    <section class="scrollContainer">
        <div class="scrollText"><p>Erling Braut Haaland er en norsk fotballspiller som i dag spiller for det engelske Premier League-laget Manchester City</p></div>
        <div class="scrollText"><p>I en alder av 23 år har han allerede oppnådd mye gjennom karrieren sin i alle klubbene han har spilt for.</p></div>
        <div class="scrollText"><p>Vi skal gå gjennom hvem denne store fotballspilleren er og hva han har oppnådd i sin karriere i den unge alderen han fortsatt er i.</p></div>
        <div class="scrollText"><p>Til slutt vil vi vise hvor han har spilt i løpet av sin karriere på et kart, der du kan se hvordan han har gjort det i løpet av karrieren sin.</p></div>
    </section>
    <section class="story">
        <div class="scrollText"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            Praesent ultricies eget turpis elementum egestas.
            Maecenas a dapibus diam. Phasellus eu vulputate enim. Morbi pretium accumsan elit, vitae porttitor augue dapibus a.
            Sed eget nisl vestibulum, faucibus neque quis, tempus libero. Sed ipsum ipsum, laoreet nec pharetra eu, fringilla egestas quam.
            Integer turpis nisl, lobortis euismod mollis ac, euismod ut tellus. Nunc semper sem vel mauris commodo pretium in in leo.
            Vivamus posuere ullamcorper velit, nec facilisis elit. Cras vel ullamcorper nisl. Nam sed massa dolor.
            Phasellus consequat congue diam, non mattis urna accumsan vel.
            Suspendisse in gravida eros. Interdum et malesuada fames ac ante ipsum primis in faucibus.
        </p></div>
    </section>
    <section class="map-section">
        <div class="map-container">
            <!-- Add a div element for the map -->
            <div id="mapContainer" style="width: 100vw; height: 100vh; z-index: 1; top: 0; left: 0;"></div>
        </div>
        <div id="scrollContainer" class="scrollText">
            <article class="scrollBox" id="start">
                <h3>Ekstremværet hans</h3>
                <img id="image" src="Ekstremvær.jpg" alt="Ekstremværet_Hans">
                <p>Scroll ned for å kunne se hvor mye denne hendelsen skadet området dette skjedde. Vi har valgt å ta med 5 av de stedene dette skjedde. Det skadeomfanget er forskjell fra sted til sted, ettersom de største skadene skjedde i innlandet og nordlige deler i Viken.</p>
            </article>
            <article class="scrollBox" id="hansn">
                <h3>Nesbyen</h3>
                <img id="image" src="Nesbyen.jpg" alt="Ekstremværet_Hans">
                <p>Den 9 August 2023, ble Hallingsdalselva og Rukkedalselva har flommet over sine bredder. Deler av Nesbyen sentrum og riksvei 7 ble lagt under vann.</p>
            </article>
            <article class="scrollBox" id="hansv">
                <h3>Våler</h3>
                <img id "image" src="Våler.jpg" alt="Ekstremværet_Hans">
                <p>Den 9 August 2023, Ble demningen ved kraftverket Braskereidfoss rast, noe som har ført til store skader. Et titals hus ble evakuert.</p>
            </article>
            <article class="scrollBox" id="hansl">
                <h3>Leirsund</h3>
                <img id="image" src="Leirsund.jpg" alt="Ekstremværet_Hans">
                <p>Den 8 August 2023, hadde elven Leira i Lillestrøm steget enormt. Leirsund bro både bilbroen og gangebroen er oversvømt.</p>
            </article>
            <article class="scrollBox" id="hansva">
                <h3>Valdres</h3>
                <img id="image" src="Valdres.jpg" alt="Ekstremværet_Hans">
                <p>Den 9 August 2023, ble Møninbru i valdres totalt oversvømt som følge av ekstremværet. Innbyggerne frykter nå at bruen skal ryke.</p>
            </article>
            <article class="scrollBox" id="hansh">
                <h3>Hemsedal</h3>
                <img id="image" src="Hemsedal.jpg" alt="Ekstremværet_Hans">
                <p>Den 8 August 2023, ble et spikertelt og campingvogn dratt med av vannmassene ned elven Hemsil og krasjet i en bru i Hemsedal sentrum.</p>
            </article>
            <article class="scrollBox" id="end">
                <img id="image" src="Ekstremvær.jpg" alt="Ekstremværet_Hans">
                <p>Her ser du hendelsene som har skjedd i de forskjellige områdene der ekstremværet Hans herjet da det traff Østlandet fra 7 August 2023. Dette ekstremværet har kostet kommunene over 700 millioner kroner. Uværet Hans har ført til i sin helhet til store ødeleggelser og flere tusen er evakuert. De største skadene er i Innlandet og nordlige delene av Viken.</p>
            </article>
            <article class="scrollBox">
                <img id="image" src="Reparasjon.jpg" alt="Ekstremværet_Hans">
                <p>Heldigvis så har dette uværet trukket seg vekk fra dette området i nåtiden, så da begynner arbeidet med å gjøre en opprydding og fikse det dette uværet har ødelagt i sin ferd.</p>
            </article>
        </div>
    </section>
    
    <script>
        const centerLat = 60.350;
        const centerLong = 9.100;
        let map = L.map('mapContainer', {
            center: [centerLat, centerLong],
            zoom: 6,
            scrollWheelZoom: false
        })
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        const places = [
            {name: "Nesbyen", lat: 60.5478, long: 9.0582},
            {name: "Våler", lat: 60.8141, long: 11.9765},
            {name: "Leirsund", lat: 59.9969, long: 11.0874},
            {name: "Valdres", lat: 60.4708, long: 11.7142},
            {name: "Hemsedal", lat: 60.9344, long: 8.5961}
        ]

        function isInViewport(el) {
            const rect = el.getBoundingClientRect();
            return (
                (rect.top <= 0 && rect.bottom >= 0) || 
                (rect.top >= 0 &&
                rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.right <= (window.innerWidth || document.documentElement.clientWidth))
            );
        }

        const markers = places.map((place) => {
            const marker = L.marker([place.lat, place.long]).addTo(map).bindPopup(place.name);
            return marker.getLatLng();
        });

        const bounds = L.latLngBounds(markers);

        const circleCenter = bounds.getCenter();

        const circleRadius = circleCenter.distanceTo(bounds.getNorthEast());

        const circle = L.circle(circleCenter, {
            color: 'red',
            fillColor: '#f03',
            fillOpacity: 0.2,
            radius: circleRadius * 1.1,
        }).addTo(map);

        document.addEventListener('scroll', function () {
            if(isInViewport(document.getElementById("start"))) {
                map.flyTo([centerLat, centerLong], 6)
            }
            if(isInViewport(document.getElementById("hansn"))) {
                map.flyTo([60.5478, 9.0582], 10)
            }
            if(isInViewport(document.getElementById("hansv"))) {
                map.flyTo([60.8141, 11.9765], 10)
            }
            if(isInViewport(document.getElementById("hansl"))) {
                map.flyTo([59.9969, 11.0874], 10)
            }
            if(isInViewport(document.getElementById("hansva"))) {
                map.flyTo([60.4708, 11.7142], 10)
            }
            if(isInViewport(document.getElementById("hansh"))) {
                map.flyTo([60.9344, 8.5961], 10)
            }
            if(isInViewport(document.getElementById("end"))) {
                map.flyTo([centerLat, centerLong], 6)
            }
        }, {
            passive: true
        });
    </script>
    
    <footer class="end">
        <p>Authors: Joachim Halvorsen Bjerkland, Kasper Keiserud Mikalsen, Martin Samuelsen.</p>
    </footer>
</body>
</html>
